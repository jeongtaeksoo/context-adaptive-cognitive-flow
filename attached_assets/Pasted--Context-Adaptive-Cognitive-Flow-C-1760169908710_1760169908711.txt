############################################################
# ğŸ§  Context-Adaptive Cognitive Flow (CACF)
# Research Reconstruction Setup â€” Platform-Independent Python Environment
# ëª©ì : ë…¼ë¬¸ ë‚´ CACF ì‹œìŠ¤í…œ êµ¬ì¡°ì˜ ì™„ì „í•œ ì½”ë“œ ì‹¤í–‰ í™˜ê²½ ë³µì›
# ì£¼ì˜: í•™ìˆ  ì¬í˜„ ëª©ì . ì—…ì , ë°°í¬, Replit ì „ìš© ë¬¸êµ¬ ìë™ ì œê±°.
############################################################

echo "ğŸ§© Initializing Context-Adaptive Cognitive Flow environment..."

# 1ï¸âƒ£ í™˜ê²½ ì´ˆê¸°í™” (ê¸°ì¡´ ìºì‹œ, ë¶ˆí•„ìš” íŒŒì¼ ì œê±°)
rm -rf __pycache__ .vscode .idea .replit replit.nix *.pyc *.log *.tmp env/ venv/

# 2ï¸âƒ£ ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python3 -m venv env
source env/bin/activate || source env/Scripts/activate

# 3ï¸âƒ£ í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
echo "âš™ï¸ Installing required Python packages..."
cat << 'EOF' > requirements.txt
flask
sqlalchemy
pandas
numpy
scikit-learn
tqdm
EOF

pip install -r requirements.txt

# 4ï¸âƒ£ ë””ë ‰í† ë¦¬ ì •ë¦¬ (ë…¼ë¬¸ êµ¬ì¡° ê¸°ë°˜)
mkdir -p core modules database validation

# ì½”ë“œ ìë™ ì •ë¦¬
for file in $(ls *.py 2>/dev/null); do
  if [[ $file == "app.py" || $file == "main.py" || $file == "cacf_demo.py" ]]; then
    mv "$file" core/
  elif [[ $file == *"agent"* || $file == *"engine"* || $file == *"loop"* || $file == "context_hub.py" ]]; then
    mv "$file" modules/
  elif [[ $file == *"db"* || $file == *"model"* ]]; then
    mv "$file" database/
  elif [[ $file == *"validate"* || $file == *"verify"* ]]; then
    mv "$file" validation/
  fi
done

# 5ï¸âƒ£ ì‹¤í–‰ ì§„ì…ì (main.py) ìƒì„±
cat << 'EOF' > main.py
from core.app import app

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=5000, debug=False)
EOF

# 6ï¸âƒ£ README.md ìƒì„± (ë…¼ë¬¸ ì¬í˜„ìš© / ì—…ì  ìš”ì†Œ ì œê±°)
cat << 'EOF' > README.md
# Context-Adaptive Cognitive Flow (CACF) - Research Implementation

This repository reconstructs the Python implementation of the Context-Adaptive Cognitive Flow (CACF) framework proposed for enhancing cognitive activation in older adults.

## System Overview
The architecture is composed of:
1. **Perception Engine** â€“ Multimodal data acquisition  
2. **Context Hub** â€“ Contextual recognition  
3. **Response Engine** â€“ Adaptive generative response  
4. **Feedback Loop** â€“ Continuous cognitive reinforcement  

The system includes three intelligent agents (Teacher, Coach, Companion) designed to simulate cognitive, behavioral, and emotional support mechanisms.

## Run
```bash
pip install -r requirements.txt
python main.py EOF

echo â€œâœ… CACF environment successfully built.â€
echo â€œTo run the system:â€
echo â€œ1. source env/bin/activateâ€
echo â€œ2. python main.pyâ€
############################################################